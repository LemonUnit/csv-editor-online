(window["webpackJsonpcsv-editor-online"]=window["webpackJsonpcsv-editor-online"]||[]).push([[0],{137:function(e,t,n){e.exports=n(233)},216:function(e,t){},218:function(e,t){},231:function(e,t,n){},232:function(e,t,n){},233:function(e,t,n){"use strict";n.r(t);var r,o=n(1),a=n.n(o),i=n(4),c=n.n(i),s=n(10),u=n(11),l=n(13),d=n(12),h=n(14),f=n(15),v=(n(142),n(130)),g=(n(235),n(93)),m=64,p=40,S=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).renderLogo=function(){return a.a.createElement("div",{className:"logo"},"CSV Editor")},n.renderButtons=function(){var e=[W.CSV,W.GRID,W.JSON].map(function(e){return a.a.createElement(g.a.Item,{key:e,onClick:function(){return n.props.onModeChange(e)}},e)});return a.a.createElement(g.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:[W.CSV],style:{lineHeight:"".concat(m,"px")}},e)},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement(v.a.Header,null,this.renderLogo(),this.renderButtons())}}]),t}(o.Component),w=(n(203),n(94)),O=(n(234),n(135)),C=n(70),b=n.n(C),j=n(60);n(122),n(123);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}!function(e){e.SEMICOLON=";",e.COMMA=",",e.VARTICAL_BAR="|"}(r||(r={}));var E={csv:"",editorHeight:0,delimiter:r.SEMICOLON},I=function(e){function t(){var e,n;Object(s.a)(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},E,{delimiter:"localStorage"in window&&window.localStorage.getItem("delimiter")||r.SEMICOLON}),n.updateEditorHeight=function(){return n.setState({editorHeight:window.innerHeight-m-p})},n.parseSourceItemsToCsv=function(){return n.setState({csv:j.stringify(n.props.source,n.state.delimiter)})},n.updateSourceItemsByCsvString=function(){var e=j.parse(n.state.csv,n.state.delimiter);n.props.onSourceChange(e)},n.handleChange=function(e){return n.setState({csv:e},function(){return n.updateSourceItemsByCsvString()})},n.handleDelimiterChange=function(e){var t=e.target.value;if(!n.state.csv.trim())return n.updateDelimiter(t);O.a.confirm({title:"Do you want to update CSV string to new delimiter?",content:"",onOk:function(){return n.updateCSVStringDelimiter(t)},onCancel:function(){return n.updateDelimiter(t)}})},n.updateCSVStringDelimiter=function(e){return n.setState({csv:j.stringify(j.parse(n.state.csv,n.state.delimiter),e)},function(){return n.updateDelimiter(e)})},n.updateDelimiter=function(e){return n.setState({delimiter:e},function(){"localStorage"in window&&window.localStorage.setItem("delimiter",e)})},n.renderConfigBar=function(){return a.a.createElement("div",{className:"ConfigBar"},a.a.createElement("div",{className:"ConfigBarWidget"},a.a.createElement("span",{className:"ConfigBarWidgetLabel"},"CSV Delimeter:"),a.a.createElement("span",{className:"ConfigBarWidgetContent"},a.a.createElement(w.a.Group,{onChange:n.handleDelimiterChange,value:n.state.delimiter,size:"small"},[r.SEMICOLON,r.COMMA,r.VARTICAL_BAR].map(function(e,t){return a.a.createElement(w.a,{key:"item_".concat(t),value:e},a.a.createElement("small",null,e))})))))},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("resize",function(){return e.updateEditorHeight()}),this.updateEditorHeight(),this.parseSourceItemsToCsv()}},{key:"componentWillUnmount",value:function(){var e=this;window.removeEventListener("resize",function(){return e.updateEditorHeight()}),this.setState(E)}},{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,this.renderConfigBar(),a.a.createElement(b.a,{mode:"text",theme:"github",onChange:this.handleChange,value:this.state.csv,name:"csv_editor",width:"100%",height:"".concat(this.state.editorHeight,"px"),editorProps:{$blockScrolling:!0}}))}}]),t}(o.Component),k={json:"[]",editorHeight:0},D=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state=k,n.updateEditorHeight=function(){return n.setState({editorHeight:window.innerHeight-m})},n.parseSourceItemsToJson=function(){return n.setState({json:JSON.stringify(n.props.source,null,2)})},n.handleChange=function(e){return n.setState({json:e},function(){return n.updateSourceItemsByCsvString()})},n.updateSourceItemsByCsvString=function(){try{var e=JSON.parse(n.state.json);n.props.onSourceChange(e)}catch(t){}},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.updateEditorHeight(),this.parseSourceItemsToJson(),window.addEventListener("resize",function(){return e.updateEditorHeight()})}},{key:"componentWillUnmount",value:function(){var e=this;this.setState(k),window.removeEventListener("resize",function(){return e.updateEditorHeight()})}},{key:"render",value:function(){return a.a.createElement(b.a,{mode:"json",theme:"github",onChange:this.handleChange,value:this.state.json,name:"csv_editor",width:"100%",height:"".concat(this.state.editorHeight,"px"),editorProps:{$blockScrolling:!0}})}}]),t}(o.Component),A=n(9),B=n(134),N=n(133),H=50,L=26;function R(e){for(var t=[],n=0;n<e;n++)t[n]={value:""};return t}function M(e,t){for(var n=R(t),r=[],o=0;o<e;o++)r[o]=n;return r}var V,W,P={activeRow:-1,activeCol:-1,grid:[]},J=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state=P,n.parseSourceItemsToGrid=function(){for(var e=n.props.source,t=e.length,r=[],o=0;o<t;o++){var a=e[o];if(a){var i=a.length;r[o]||(r[o]=[]);for(var c=0;c<i;c++){var s=a[c];r[o][c]={value:s}}for(var u=L-i,l=0;l<u;l++)r[o][i+l]={value:""}}}for(var d=H-t,h=R(r[0]?r[0].length:L),f=0;f<d;f++)r[t+f]=h;return n.setState({grid:r})},n.updateSourceItemsByDataGrid=function(){for(var e=n.state.grid,t=[],r=Object(A.a)(e).reverse(),o=r.findIndex(function(e){return e.some(function(e){return Boolean(e.value)})}),a=r.slice(o).reverse(),i=0,c=a.length;i<c;i++){t[i]||(t[i]=[]);var s=Object(A.a)(a[i]).reverse(),u=s.findIndex(function(e){return Boolean(e.value)}),l=s.slice(u).reverse();if(!(u<0))for(var d=0;d<l.length;d++){var h=l[d];t[i][d]=h.value}}n.props.onSourceChange(t)},n.addNewRowIfLastIsActive=function(){var e=n.state,t=e.activeRow,r=e.grid;t===r.length-1&&n.setState({grid:[].concat(Object(A.a)(r),Object(A.a)(M(10,r[0]?r[0].length:L)))})},n.onActivate=function(e){var t=e.column,r=e.row;return n.setState({activeCol:t,activeRow:r})},n.onChange=Object(N.a)(100,function(e){return n.setState({grid:e},function(){return n.updateSourceItemsByDataGrid()})}),n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.parseSourceItemsToGrid()}},{key:"componentWillUnmount",value:function(){this.addNewRowIfLastIsActive(),this.setState(P)}},{key:"render",value:function(){return a.a.createElement(B.a,{onChange:this.onChange,onActivate:this.onActivate,data:this.state.grid})}}]),t}(o.Component);n(231);!function(e){e.CSV="CSV",e.GRID="GRID",e.JSON="JSON"}(W||(W={}));var T=Object.freeze((V={},Object(f.a)(V,W.CSV,I),Object(f.a)(V,W.JSON,D),Object(f.a)(V,W.GRID,J),V)),G=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).handleModeChange=function(e){return n.setState({mode:e})},n.handleSourceChange=function(e){return n.setState({source:e})},n.state={mode:W.CSV,source:[]},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=T[this.state.mode]||a.a.createElement("div",null,"Error");return a.a.createElement("div",null,a.a.createElement(S,{mode:this.state.mode,onModeChange:this.handleModeChange}),a.a.createElement("main",{className:"Editor"},a.a.createElement(e,{onSourceChange:this.handleSourceChange,source:this.state.source})))}}]),t}(o.Component),x=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function z(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}n(232);c.a.render(a.a.createElement(G,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/csv-editor-online",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/csv-editor-online","/service-worker.js");x?(!function(e,t){fetch(e).then(function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):z(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):z(t,e)})}}()}},[[137,1,2]]]);
//# sourceMappingURL=main.e7093503.chunk.js.map