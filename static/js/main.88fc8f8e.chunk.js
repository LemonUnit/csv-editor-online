(window["webpackJsonpcsv-editor-online"]=window["webpackJsonpcsv-editor-online"]||[]).push([[0],{125:function(e,t,n){e.exports=n(219)},202:function(e,t){},204:function(e,t){},217:function(e,t,n){},218:function(e,t,n){},219:function(e,t,n){"use strict";n.r(t);var r,a=n(1),o=n.n(a),i=n(7),c=n.n(i),s=n(9),u=n(10),l=n(12),d=n(11),h=n(13),v=n(14),f=(n(130),n(119)),g=(n(220),n(82)),m=64,p=40,O=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).renderLogo=function(){return o.a.createElement("div",{className:"logo"},"CSV Editor")},n.renderButtons=function(){var e=[J.CSV,J.GRID,J.JSON].map(function(e){return o.a.createElement(g.a.Item,{key:e,onClick:function(){return n.props.onModeChange(e)}},e)});return o.a.createElement(g.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:[J.CSV],style:{lineHeight:"".concat(m,"px")}},e)},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(f.a.Header,null,this.renderLogo(),this.renderButtons())}}]),t}(a.Component),S=(n(191),n(83)),C=n(58),b=n.n(C),w=n(80);n(111),n(112);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}!function(e){e.SEMICOLON=";",e.COMMA=",",e.VARTICAL_BAR="|"}(r||(r={}));var y={csv:"",editorHeight:0,delimeter:r.SEMICOLON},E=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(n,!0).forEach(function(t){Object(v.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},y,{delimeter:"localStorage"in window&&window.localStorage.getItem("delimeter")||r.SEMICOLON}),n.updateEditorHeight=function(){return n.setState({editorHeight:window.innerHeight-m-p})},n.parseSourceItemsToCsv=function(){return n.setState({csv:w.stringify(n.props.source,n.state.delimeter)})},n.updateSourceItemsByCsvString=function(){var e=w.parse(n.state.csv);n.props.onSourceChange(e)},n.handleChange=function(e){return n.setState({csv:e},function(){return n.updateSourceItemsByCsvString()})},n.handleDelimeterChange=function(e){var t=e.target.value;n.setState({delimeter:t}),"localStorage"in window&&window.localStorage.setItem("delimeter",t)},n.renderConfigBar=function(){return o.a.createElement("div",{className:"ConfigBar"},o.a.createElement("div",{className:"ConfigBarWidget"},o.a.createElement("span",{className:"ConfigBarWidgetLabel"},"CSV Delimeter:"),o.a.createElement("span",{className:"ConfigBarWidgetContent"},o.a.createElement(S.a.Group,{onChange:n.handleDelimeterChange,value:n.state.delimeter,size:"small"},[r.SEMICOLON,r.COMMA,r.VARTICAL_BAR].map(function(e,t){return o.a.createElement(S.a,{key:"item_".concat(t),value:e},o.a.createElement("small",null,e))})))))},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("resize",function(){return e.updateEditorHeight()}),this.updateEditorHeight(),this.parseSourceItemsToCsv()}},{key:"componentWillUnmount",value:function(){var e=this;window.removeEventListener("resize",function(){return e.updateEditorHeight()}),this.setState(y)}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,this.renderConfigBar(),o.a.createElement(b.a,{mode:"text",theme:"github",onChange:this.handleChange,value:this.state.csv,name:"csv_editor",width:"100%",height:"".concat(this.state.editorHeight,"px"),editorProps:{$blockScrolling:!0}}))}}]),t}(a.Component),I={json:"[]",editorHeight:0},k=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).state=I,n.updateEditorHeight=function(){return n.setState({editorHeight:window.innerHeight-m})},n.parseSourceItemsToJson=function(){return n.setState({json:JSON.stringify(n.props.source,null,2)})},n.handleChange=function(e){return n.setState({json:e},function(){return n.updateSourceItemsByCsvString()})},n.updateSourceItemsByCsvString=function(){try{var e=JSON.parse(n.state.json);n.props.onSourceChange(e)}catch(t){}},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.updateEditorHeight(),this.parseSourceItemsToJson(),window.addEventListener("resize",function(){return e.updateEditorHeight()})}},{key:"componentWillUnmount",value:function(){var e=this;this.setState(I),window.removeEventListener("resize",function(){return e.updateEditorHeight()})}},{key:"render",value:function(){return o.a.createElement(b.a,{mode:"json",theme:"github",onChange:this.handleChange,value:this.state.json,name:"csv_editor",width:"100%",height:"".concat(this.state.editorHeight,"px"),editorProps:{$blockScrolling:!0}})}}]),t}(a.Component),B=n(8),H=n(123),N=n(122),A=50,D=26;function L(e){for(var t=[],n=0;n<e;n++)t[n]={value:""};return t}function M(e,t){for(var n=L(t),r=[],a=0;a<e;a++)r[a]=n;return r}var R,J,P={activeRow:-1,activeCol:-1,grid:[]},V=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).state=P,n.parseSourceItemsToGrid=function(){for(var e=n.props.source,t=e.length,r=[],a=0;a<t;a++){var o=e[a],i=o.length;r[a]||(r[a]=[]);for(var c=0;c<i;c++){var s=o[c];r[a][c]={value:s}}for(var u=D-i,l=0;l<u;l++)r[a][i+l]={value:""}}for(var d=A-t,h=L(r[0]?r[0].length:D),v=0;v<d;v++)r[t+v]=h;return n.setState({grid:r})},n.updateSourceItemsByDataGrid=function(){for(var e=n.state.grid,t=Object(B.a)(e),r=[],a=0,o=t.length;a<o;a++){var i=Object(B.a)(t[a]).reverse(),c=i.findIndex(function(e){return Boolean(e.value)}),s=i.slice(c).reverse();if(!(c<0)){r[a]||(r[a]=[]);for(var u=0;u<s.length;u++){var l=s[u];r[a][u]=l.value}}}n.props.onSourceChange(r)},n.addNewRowIfLastIsActive=function(){var e=n.state,t=e.activeRow,r=e.grid;t===r.length-1&&n.setState({grid:[].concat(Object(B.a)(r),Object(B.a)(M(10,r[0].length)))})},n.onActivate=function(e){var t=e.column,r=e.row;return n.setState({activeCol:t,activeRow:r})},n.onChange=Object(N.a)(100,function(e){return n.setState({grid:e},function(){return n.updateSourceItemsByDataGrid()})}),n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.parseSourceItemsToGrid()}},{key:"componentWillUnmount",value:function(){this.addNewRowIfLastIsActive(),this.setState(P)}},{key:"render",value:function(){return o.a.createElement(H.a,{onChange:this.onChange,onActivate:this.onActivate,data:this.state.grid})}}]),t}(a.Component);n(217);!function(e){e.CSV="CSV",e.GRID="GRID",e.JSON="JSON"}(J||(J={}));var G=Object.freeze((R={},Object(v.a)(R,J.CSV,E),Object(v.a)(R,J.JSON,k),Object(v.a)(R,J.GRID,V),R)),T=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).handleModeChange=function(e){return n.setState({mode:e})},n.handleSourceChange=function(e){return n.setState({source:e})},n.state={mode:J.CSV,source:[]},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=G[this.state.mode]||o.a.createElement("div",null,"Error");return o.a.createElement("div",null,o.a.createElement(O,{mode:this.state.mode,onModeChange:this.handleModeChange}),o.a.createElement("main",{className:"Editor"},o.a.createElement(e,{onSourceChange:this.handleSourceChange,source:this.state.source})))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(218);c.a.render(o.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[125,1,2]]]);
//# sourceMappingURL=main.88fc8f8e.chunk.js.map