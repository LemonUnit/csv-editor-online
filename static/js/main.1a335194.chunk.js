(window["webpackJsonpcsv-editor-online"]=window["webpackJsonpcsv-editor-online"]||[]).push([[0],{137:function(e,t,n){e.exports=n(233)},216:function(e,t){},218:function(e,t){},231:function(e,t,n){},232:function(e,t,n){},233:function(e,t,n){"use strict";n.r(t);var r,a=n(1),o=n.n(a),i=n(4),c=n.n(i),u=n(10),s=n(11),l=n(13),d=n(12),h=n(14),f=n(15),m=(n(142),n(130)),v=(n(235),n(93)),g=64,p=40,S=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).renderLogo=function(){return o.a.createElement("div",{className:"logo"},"CSV Editor")},n.renderButtons=function(){var e=[J.CSV,J.GRID,J.JSON].map(function(e){return o.a.createElement(v.a.Item,{key:e,onClick:function(){return n.props.onModeChange(e)}},e)});return o.a.createElement(v.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:[J.CSV],style:{lineHeight:"".concat(g,"px")}},e)},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement(m.a.Header,null,this.renderLogo(),this.renderButtons())}}]),t}(a.Component),O=(n(203),n(94)),C=(n(234),n(135)),b=n(70),w=n.n(b),j=n(60);n(122),n(123);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}!function(e){e.SEMICOLON=";",e.COMMA=",",e.VARTICAL_BAR="|"}(r||(r={}));var E={csv:"",editorHeight:0,delimiter:r.SEMICOLON},I=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},E,{delimiter:"localStorage"in window&&window.localStorage.getItem("delimiter")||r.SEMICOLON}),n.updateEditorHeight=function(){return n.setState({editorHeight:window.innerHeight-g-p})},n.parseSourceItemsToCsv=function(){return n.setState({csv:j.stringify(n.props.source,n.state.delimiter)})},n.updateSourceItemsByCsvString=function(){var e=j.parse(n.state.csv,n.state.delimiter);n.props.onSourceChange(e)},n.handleChange=function(e){return n.setState({csv:e},function(){return n.updateSourceItemsByCsvString()})},n.handleDelimiterChange=function(e){var t=e.target.value;if(!n.state.csv.trim())return n.updateDelimiter(t);C.a.confirm({title:"Do you want to update CSV string to new delimiter?",content:"",onOk:function(){return n.updateCSVStringDelimiter(t)},onCancel:function(){return n.updateDelimiter(t)}})},n.updateCSVStringDelimiter=function(e){return n.setState({csv:j.stringify(j.parse(n.state.csv,n.state.delimiter),e)},function(){return n.updateDelimiter(e)})},n.updateDelimiter=function(e){return n.setState({delimiter:e},function(){"localStorage"in window&&window.localStorage.setItem("delimiter",e)})},n.renderConfigBar=function(){return o.a.createElement("div",{className:"ConfigBar"},o.a.createElement("div",{className:"ConfigBarWidget"},o.a.createElement("span",{className:"ConfigBarWidgetLabel"},"CSV Delimeter:"),o.a.createElement("span",{className:"ConfigBarWidgetContent"},o.a.createElement(O.a.Group,{onChange:n.handleDelimiterChange,value:n.state.delimiter,size:"small"},[r.SEMICOLON,r.COMMA,r.VARTICAL_BAR].map(function(e,t){return o.a.createElement(O.a,{key:"item_".concat(t),value:e},o.a.createElement("small",null,e))})))))},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("resize",function(){return e.updateEditorHeight()}),this.updateEditorHeight(),this.parseSourceItemsToCsv()}},{key:"componentWillUnmount",value:function(){var e=this;window.removeEventListener("resize",function(){return e.updateEditorHeight()}),this.setState(E)}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,this.renderConfigBar(),o.a.createElement(w.a,{mode:"text",theme:"github",onChange:this.handleChange,value:this.state.csv,name:"csv_editor",width:"100%",height:"".concat(this.state.editorHeight,"px"),editorProps:{$blockScrolling:!0}}))}}]),t}(a.Component),k={json:"[]",editorHeight:0},D=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).state=k,n.updateEditorHeight=function(){return n.setState({editorHeight:window.innerHeight-g})},n.parseSourceItemsToJson=function(){return n.setState({json:JSON.stringify(n.props.source,null,2)})},n.handleChange=function(e){return n.setState({json:e},function(){return n.updateSourceItemsByCsvString()})},n.updateSourceItemsByCsvString=function(){try{var e=JSON.parse(n.state.json);n.props.onSourceChange(e)}catch(t){}},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.updateEditorHeight(),this.parseSourceItemsToJson(),window.addEventListener("resize",function(){return e.updateEditorHeight()})}},{key:"componentWillUnmount",value:function(){var e=this;this.setState(k),window.removeEventListener("resize",function(){return e.updateEditorHeight()})}},{key:"render",value:function(){return o.a.createElement(w.a,{mode:"json",theme:"github",onChange:this.handleChange,value:this.state.json,name:"csv_editor",width:"100%",height:"".concat(this.state.editorHeight,"px"),editorProps:{$blockScrolling:!0}})}}]),t}(a.Component),B=n(9),H=n(134),N=n(133),A=50,L=26;function M(e){for(var t=[],n=0;n<e;n++)t[n]={value:""};return t}function R(e,t){for(var n=M(t),r=[],a=0;a<e;a++)r[a]=n;return r}var V,J,P={activeRow:-1,activeCol:-1,grid:[]},G=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).state=P,n.parseSourceItemsToGrid=function(){for(var e=n.props.source,t=e.length,r=[],a=0;a<t;a++){var o=e[a];if(o){var i=o.length;r[a]||(r[a]=[]);for(var c=0;c<i;c++){var u=o[c];r[a][c]={value:u}}for(var s=L-i,l=0;l<s;l++)r[a][i+l]={value:""}}}for(var d=A-t,h=M(r[0]?r[0].length:L),f=0;f<d;f++)r[t+f]=h;return n.setState({grid:r})},n.updateSourceItemsByDataGrid=function(){for(var e=n.state.grid,t=[],r=Object(B.a)(e).reverse(),a=r.findIndex(function(e){return e.some(function(e){return Boolean(e.value)})}),o=r.slice(a).reverse(),i=0,c=o.length;i<c;i++){t[i]||(t[i]=[]);var u=Object(B.a)(o[i]).reverse(),s=u.findIndex(function(e){return Boolean(e.value)}),l=u.slice(s).reverse();if(!(s<0))for(var d=0;d<l.length;d++){var h=l[d];t[i][d]=h.value}}n.props.onSourceChange(t)},n.addNewRowIfLastIsActive=function(){var e=n.state,t=e.activeRow,r=e.grid;t===r.length-1&&n.setState({grid:[].concat(Object(B.a)(r),Object(B.a)(R(10,r[0]?r[0].length:L)))})},n.onActivate=function(e){var t=e.column,r=e.row;return n.setState({activeCol:t,activeRow:r})},n.onChange=Object(N.a)(100,function(e){return n.setState({grid:e},function(){return n.updateSourceItemsByDataGrid()})}),n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.parseSourceItemsToGrid()}},{key:"componentWillUnmount",value:function(){this.addNewRowIfLastIsActive(),this.setState(P)}},{key:"render",value:function(){return o.a.createElement(H.a,{onChange:this.onChange,onActivate:this.onActivate,data:this.state.grid})}}]),t}(a.Component);n(231);!function(e){e.CSV="CSV",e.GRID="GRID",e.JSON="JSON"}(J||(J={}));var T=Object.freeze((V={},Object(f.a)(V,J.CSV,I),Object(f.a)(V,J.JSON,D),Object(f.a)(V,J.GRID,G),V)),W=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).handleModeChange=function(e){return n.setState({mode:e})},n.handleSourceChange=function(e){return n.setState({source:e})},n.state={mode:J.CSV,source:[]},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=T[this.state.mode]||o.a.createElement("div",null,"Error");return o.a.createElement("div",null,o.a.createElement(S,{mode:this.state.mode,onModeChange:this.handleModeChange}),o.a.createElement("main",{className:"Editor"},o.a.createElement(e,{onSourceChange:this.handleSourceChange,source:this.state.source})))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(232);c.a.render(o.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[137,1,2]]]);
//# sourceMappingURL=main.1a335194.chunk.js.map